"use strict";(()=>{function l(t,e){let r=document.createElement(t);return e===void 0?r:(e.id&&(r.id=e.id),u(f(E(m(y(r,e.classList),e.textContent),e.attributes),e.children),e.listeners))}function u(t,e){if(e)for(let[r,n]of Object.entries(e))n instanceof Array?t.addEventListener(r,n[0],n[1]):n instanceof Function&&t.addEventListener(r,n);return t}function f(t,e){function r(n){return n instanceof Node?n:l(n[0],n[1])}if(e&&e.length>0)for(let n of e)t.append(r(n));return t}function E(t,e){if(e)for(let[r,n]of Object.entries(e))t.setAttribute(r,n);return t}function m(t,e){return e&&(typeof e=="string"?t.textContent=e:e.html&&(t.innerHTML=e.html)),t}function y(t,e){return e&&(typeof e=="string"&&e!==""&&t.classList.add(e),e instanceof Array&&t.classList.add(...e.filter(Boolean))),t}var p="sounds/ding-sound-effect_2.mp3";function g({add:t,reset:e,save:r,playerName:n,playerList:o}){let a=v(),i=a.get();o.append(...T(i)),t.addEventListener("click",M(i,o,n)),e.addEventListener("click",()=>{Array.from(o.children).forEach(c=>c.remove()),a.clear(i)}),r.addEventListener("click",()=>a.set(i))}function T(t){return Array.from(t.keys(),e=>d(e,t))}function M(t,e,r){return()=>{let n=r.value;n!==""&&!t.has(n)&&(e.append(d(n,t)),r.value="")}}function d(t,e){var o;let r=e.set(t,(o=e.get(t))!=null?o:{score:0}).get(t);s(r!==void 0);let n=l("span",{textContent:r.score.toString()});return l("li",{textContent:`${t} : `,children:[n,["button",{textContent:"+1",listeners:{click:()=>{r.score+=1,n.textContent=r.score.toString(),new Audio(p).play()}}}]]})}function s(t,e){if(!t)throw new Error(e)}function v(){let t="scores";return{get:()=>{var n;let e=JSON.parse((n=localStorage.getItem(t))!=null?n:"{}"),r=new Map;for(let[o,a]of Object.entries(e))r.set(o,a);return r},set:e=>{let r={};for(let[n,o]of e.entries())r[n]=o;localStorage.setItem(t,JSON.stringify(r))},clear:e=>{e.clear(),localStorage.setItem(t,"{}")}}}function H(){function t(i){return document.getElementById(i)}let e=t("add-player"),r=t("reset"),n=t("save"),o=t("player-name"),a=t("player-list");return s(e!==null,"Button to add player not found."),s(r!==null,"Button to erase game data not found."),s(n!==null,"Button to save game data not found."),s(o!==null,"Text input for players's names not found."),s(a!==null,"List element not found."),{add:e,reset:r,save:n,playerName:o,playerList:a}}window.onload=()=>g(H());})();
//# sourceMappingURL=bundle.js.map
